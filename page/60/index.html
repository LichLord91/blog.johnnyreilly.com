<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="I CAN MAKE THIS WORK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="I CAN MAKE THIS WORK Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-51754530-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="icon" href="/img/favicon/profile.jpg">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/favicon/apple-touch-icon.png"><title data-react-helmet="true">I CAN MAKE THIS WORK | I CAN MAKE THIS WORK</title><meta data-react-helmet="true" property="og:title" content="I CAN MAKE THIS WORK | I CAN MAKE THIS WORK"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://blog.johnnyreilly.com/img/profile.png"><meta data-react-helmet="true" name="twitter:image" content="https://blog.johnnyreilly.com/img/profile.png"><meta data-react-helmet="true" name="description" content="The blog of johnnyreilly"><meta data-react-helmet="true" property="og:description" content="The blog of johnnyreilly"><meta data-react-helmet="true" property="og:url" content="https://blog.johnnyreilly.com/page/60"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="blog_posts_list"><meta data-react-helmet="true" name="robots" content="max-image-preview:large"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blog.johnnyreilly.com/page/60"><link data-react-helmet="true" rel="alternate" href="https://blog.johnnyreilly.com/page/60" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog.johnnyreilly.com/page/60" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ff16c2af.css">
<link rel="preload" href="/assets/js/runtime~main.63119928.js" as="script">
<link rel="preload" href="/assets/js/main.c1af33ba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">I CAN MAKE THIS WORK</b></a><a class="navbar__item navbar__link" href="/about">About</a><a class="navbar__item navbar__link" href="/blog-archive">Blog Archive</a><a class="navbar__item navbar__link" href="/talks">Talks</a></div><div class="navbar__items navbar__items--right"><a href="https://polywork.johnnyreilly.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Polywork<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/johnnyreilly" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-list-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/10/31/nswag-generated-c-sharp-client-property-name-clash">NSwag generated C# client: Open API property name clashes and decimal types rather than double</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/10/18/docusaurus-meta-tags-and-google-discover">Docusaurus, meta tags and Google Discover</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/10/15/structured-data-seo-and-react">Structured data, SEO and React</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/09/12/permissioning-azure-pipelines-bicep-role-assignments">Permissioning Azure Pipelines with Bicep and Azure RBAC Role Assignments</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/09/10/google-apis-authentication-with-typescript">Google APIs: authentication with TypeScript</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/2020/01/21/license-to-kill-your-pwa">LICENSE to kill your PWA</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2020-01-21T00:00:00.000Z" itemprop="datePublished">January 21, 2020</time> Â· <!-- -->4 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_1yU8" src="https://blog.johnnyreilly.com/img/profile.jpg" alt="John Reilly"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">John Reilly</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_31ik" id="update-26012020---license-to-kill-revoked">Update: 26/01/2020 - LICENSE to kill revoked!<a aria-hidden="true" class="hash-link" href="#update-26012020---license-to-kill-revoked" title="Direct link to heading">â€‹</a></h2><p>Following the original publication of this post I received this tweet suggesting we should change the behaviour of the underlying <code>terser-webpack-plugin</code>:</p><blockquote><p>Send a PR to change the name to .LICENSE.txt by default.</p><p>â€” Tobias Koppers (@wSokra) <a href="https://twitter.com/wSokra/status/1220069497660411904?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">January 22, 2020</a></p></blockquote><script src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>That seemed like an excellent idea! I raised <a href="https://github.com/webpack-contrib/terser-webpack-plugin/pull/210" target="_blank" rel="noopener noreferrer">this PR</a> which changes the behaviour such that instead of <code>.LICENSE</code> files being produced, <code>.LICENSE.txt</code> files are pumped out instead. Crucially they are IIS (and other servers) friendly. The great news is that future users of webpack / create-react-app etc will not face this problem at all; result!</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="the-tragedy">The tragedy<a aria-hidden="true" class="hash-link" href="#the-tragedy" title="Direct link to heading">â€‹</a></h2><p>Recently my beloved PWA died. I didn&#x27;t realise it at first. It wasn&#x27;t until a week or so after the tragedy that I realised he&#x27;d gone. In his place was the stale memory of service workers gone by. Last week&#x27;s code; cached and repeatedly served up to a disappointed audience. Terrible news.</p><p>What had happened? What indeed. The problem was quirky and (now that I know the answer) I&#x27;m going to share it with you. Because it&#x27;s entirely non-obvious.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="the-mystery">The mystery<a aria-hidden="true" class="hash-link" href="#the-mystery" title="Direct link to heading">â€‹</a></h2><p>Once I realised that I was repeatedly being served up an old version of my PWA, I got to wondering.... Why? What&#x27;s happening? What&#x27;s wrong? What did I do? I felt bad. I stared at the ceiling. I sighed and opened my Chrome devtools. With no small amount of sadness I went to the <code>Application</code> tab, hit <code>Service Workers</code> and then <code>Unregister</code>.</p><p>Then I hit refresh and took a look at console. I saw this:</p><p><img src="data:image/png;base64,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"></p><p>What does this mean? Something about a &quot;bad-precaching-response&quot;. And apparently this was happening whilst trying to load this resource: <code>/static/js/6.20102e99.chunk.js.LICENSE?__WB_REVISION__=e2fc36</code></p><p>This <code>404</code> was preventing pre-caching from executing successfully. This was what was killing my PWA. This was the perpetrator. How to fix this? Read on!</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="the-investigation">The investigation<a aria-hidden="true" class="hash-link" href="#the-investigation" title="Direct link to heading">â€‹</a></h2><p>Time to find out what&#x27;s going on. I dropped that URL into my browser to see what would happen. <code>404</code> city man:</p><p><img src="/assets/images/LICENSE%2Bfile%2Bscrewing%2Bme%2Bover-cff6e57d87d8ca78f35b309b6de20e42.png"></p><p>So, to disk. I took a look at what was actually on the server in that location. Sure enough, the file existed. When I opened it up I found this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/**</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * A better abstraction over CSS.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * @website https://github.com/cssinjs/jss</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * @license MIT</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">object-assign</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">(c) Sindre Sorhus</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">@license MIT</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/** @license React v16.12.0</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * react.production.min.js</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * Copyright (c) Facebook, Inc. and its affiliates.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * This source code is licensed under the MIT license found in the</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * LICENSE file in the root directory of this source tree.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/** @license React v16.12.0</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * react-dom.production.min.js</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * Copyright (c) Facebook, Inc. and its affiliates.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * This source code is licensed under the MIT license found in the</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * LICENSE file in the root directory of this source tree.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/** @license React v0.18.0</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * scheduler.production.min.js</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * Copyright (c) Facebook, Inc. and its affiliates.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * This source code is licensed under the MIT license found in the</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * LICENSE file in the root directory of this source tree.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/** @license React v16.12.0</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * react-is.production.min.js</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * Copyright (c) Facebook, Inc. and its affiliates.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> *</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * This source code is licensed under the MIT license found in the</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> * LICENSE file in the root directory of this source tree.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"> */</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>What is this? Well, as the name of the file suggests, it&#x27;s licenses. For some reason, my build was scraping the licenses from the head of some of my files and placing them in a separate <code>6.20102e99.chunk.js.LICENSE</code> file. Doing some more digging I happened upon <a href="https://github.com/facebook/create-react-app/issues/6441" target="_blank" rel="noopener noreferrer">this discussion against the <code>create-react-app</code></a> project. It&#x27;s worth saying, that my PWA was an ejected <code>create-react-app</code> project.</p><p>It turned out the the issue was related to the <a href="https://github.com/webpack-contrib/terser-webpack-plugin" target="_blank" rel="noopener noreferrer"><code>terser-webpack-plugin</code></a>. The default behaviour performs this kind of license file extraction. The app was being served by an IIS server and it wasn&#x27;t configured to support the <code>.LICENSE</code> file type.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="the-resolution">The resolution<a aria-hidden="true" class="hash-link" href="#the-resolution" title="Direct link to heading">â€‹</a></h2><p>The simplest solution was simply this: wave goodbye to <code>LICENSE</code> files. If you haven&#x27;t ejected from your <code>create-react-app</code> then this might be a problem. But since I had, I was able to make this tweak to the terser settings in the <code>webpack.config.js</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#d6deeb"><span class="token keyword" style="color:rgb(127, 219, 202)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">TerserPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/* TURN OFF LICENSE FILES - SEE https://github.com/facebook/create-react-app/issues/6441 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    extractComments</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/* TURN OFF LICENSE FILES - Tweak by John Reilly */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    terserOptions</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// ....</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And with this we say goodbye to our <code>404</code>s and hello to a resurrected PWA!</p></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/page/59"><div class="pagination-nav__label">Â«<!-- --> <!-- -->Newer Entries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/page/61"><div class="pagination-nav__label">Older Entries<!-- --> <!-- -->Â»</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Support me</div><ul class="footer__items"><li class="footer__item"><a href="https://www.buymeacoffee.com/qUBm0Wh" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"></a></li><li class="footer__item"><div style="display: flex; align-items: center;"><iframe src="https://github.com/sponsors/johnnyreilly/button" title="Sponsor johnnyreilly" height="35" width="116" style="border: 0;"></iframe><div>&nbsp;on GitHub</div></div></li></ul></div><div class="col footer__col"><div class="footer__title">Feeds</div><ul class="footer__items"><li class="footer__item"><a href="https://blog.johnnyreilly.com/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>RSS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://blog.johnnyreilly.com/atom.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Atom<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 John Reilly. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.63119928.js"></script>
<script src="/assets/js/main.c1af33ba.js"></script>
</body>
</html>