<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="I CAN MAKE THIS WORK RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="I CAN MAKE THIS WORK Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-51754530-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="icon" href="/img/favicon/profile.jpg">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/favicon/apple-touch-icon.png"><title data-react-helmet="true">One post tagged with &quot;Modernizr&quot; | I CAN MAKE THIS WORK</title><meta data-react-helmet="true" property="og:title" content="One post tagged with &quot;Modernizr&quot; | I CAN MAKE THIS WORK"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://blog.johnnyreilly.com/img/profile.png"><meta data-react-helmet="true" name="twitter:image" content="https://blog.johnnyreilly.com/img/profile.png"><meta data-react-helmet="true" property="og:url" content="https://blog.johnnyreilly.com/tags/modernizr"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-react-helmet="true" name="robots" content="max-image-preview:large"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blog.johnnyreilly.com/tags/modernizr"><link data-react-helmet="true" rel="alternate" href="https://blog.johnnyreilly.com/tags/modernizr" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog.johnnyreilly.com/tags/modernizr" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.26111b35.css">
<link rel="preload" href="/assets/js/runtime~main.d9f6e547.js" as="script">
<link rel="preload" href="/assets/js/main.ea3f11b8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/profile.jpg" alt="I CAN MAKE THIS WORK" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">I CAN MAKE THIS WORK</b></a><a class="navbar__item navbar__link" href="/about">About</a><a class="navbar__item navbar__link" href="/blog-archive">Blog Archive</a><a class="navbar__item navbar__link" href="/talks">Talks</a></div><div class="navbar__items navbar__items--right"><a href="https://polywork.johnnyreilly.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Polywork<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/johnnyreilly" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-tags-post-list-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/10/31/nswag-generated-c-sharp-client-property-name-clash">NSwag generated C# client: Open API property name clashes and decimal types rather than double</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/10/18/docusaurus-meta-tags-and-google-discover">Docusaurus, meta tags and Google Discover</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/10/15/structured-data-seo-and-react">Structured data, SEO and React</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/09/12/permissioning-azure-pipelines-bicep-role-assignments">Permissioning Azure Pipelines with Bicep and Azure RBAC Role Assignments</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/2021/09/10/google-apis-authentication-with-typescript">Google APIs: authentication with TypeScript</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>One post tagged with &quot;Modernizr&quot;</h1><a href="/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/2013/04/26/a-navigation-animation-for-your-users">A navigation animation (for your users delectation)</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2013-04-26T00:00:00.000Z" itemprop="datePublished">April 26, 2013</time> Â· <!-- -->6 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_1R69"><div class="avatar margin-bottom--sm"><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_1yU8" src="https://blog.johnnyreilly.com/img/profile.jpg" alt="John Reilly"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://twitter.com/johnny_reilly" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">John Reilly</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_31ik" id="the-vexation">The Vexation<a aria-hidden="true" class="hash-link" href="#the-vexation" title="Direct link to heading">â€‹</a></h2><p>The current application I&#x27;m working on lives within an <code>iframe</code>. A side effect of that is that my users no longer get the visual feedback that they&#x27;re used to as they navigate around the site. By &quot;visual feedback&quot; what I mean are the little visual tics that are displayed in the browser when you&#x27;re in the process of navigating from one screen to the next. Basically, these:</p><p><img src="https://1.bp.blogspot.com/-x_8VXvW0w1M/UXpam8TtPQI/AAAAAAAAAbI/uVFFkL8uBAc/s320/TheSpinCycleOfProgress.png"></p><p>When an application is nested in an <code>iframe</code> it seems that these visual tics aren&#x27;t propogated up to the top frame of the browser as the user navigates around. Clicking on links results in a short lag whilst nothing appears to be happening and then, BANG!, a new page is rendered. This is not a great user experience. There&#x27;s nothing to indicate that the link has been clicked on and the browser is doing something. Well, not in Internet Explorer at least - Chrome (my browser of choice) appears to do just that. But that&#x27;s really by the by, the people using my app will be using the corporate browser, IE; so I need to think about them.</p><p>Now I&#x27;m fully aware that this is more in the region of nice-to-have rather than absolute necessity. That said, my experience is that when users think an application isn&#x27;t responding fast enough their action point is usually &quot;click it again, and maybe once more for luck&quot;. To prevent this from happening, I wanted to give the users back some kind of steer when they were in the process of navigation, <code>iframe</code> or no <code>iframe</code>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="the-agreeable-resolution">The Agreeable Resolution<a aria-hidden="true" class="hash-link" href="#the-agreeable-resolution" title="Direct link to heading">â€‹</a></h2><p>To that end, I&#x27;ve come up with something that I feel does the job, and does it well. I&#x27;ve taken a CSS animation courtesy of the good folk at <a href="http://cssload.net/" target="_blank" rel="noopener noreferrer">CSS Load</a> and embedded it in the layout of my application. This animation is hidden from view until the user navigates to another page. At that point, the CSS animation appears in the header of the screen and remains in place until the new screen is rendered. This is what it looks like:</p><p><img src="https://2.bp.blogspot.com/-RaGwl1llrDM/UX4pEiUfGWI/AAAAAAAAAbo/jSZC0skiLfQ/s320/NavigationAnimationAtWork.png"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="hows-that-work-then-guv">How&#x27;s that work then guv?<a aria-hidden="true" class="hash-link" href="#hows-that-work-then-guv" title="Direct link to heading">â€‹</a></h2><p>You&#x27;re no doubt dazzled by the glory of it all. How was it accomplished? Well, it was actually a great deal easier than you might think. First of all we have the html:</p><script src="https://gist.github.com/johnnyreilly/5466370.js?file=navigationAnimation.html"></script><p>Apart from the outer <code>div</code> tag (#navigationAnimation) all of this is the HTML taken from <a href="http://cssload.net/" target="_blank" rel="noopener noreferrer">CSS Load</a>. If you wanted to use a different navigation animation you could easily replace the inner HTML with something else instead. Next up is the CSS, again courtesy of CSS Load (and it&#x27;s this that turns this simple HTML into sumptuous animated goodness):</p><script src="https://gist.github.com/johnnyreilly/5466370.js?file=navigationAnimation.css"></script><p>And finally we have the JavaScript which is responsible for showing animation when the user starts navigating:</p><script src="https://gist.github.com/johnnyreilly/5466370.js?file=navigationAnimation.js"></script><p>It&#x27;s helped along with a little jQuery here but this could easily be accomplished with vanilla JS if you fancied. The approach works by hooking into the <a href="https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/beforeunload" target="_blank" rel="noopener noreferrer">beforeunload</a> event that fires when &quot;<em>the window, the document and its resources are about to be unloaded</em>&quot;. There&#x27;s a little bit more to the functionality in the JavaScript abover which I go into in the PPS below. Essentially that covers backwards compatibility with earlier versions of IE.</p><p>I&#x27;ve coded this up in a manner that lends itself to re-use. I can imagine that you might also want to make use of the navigation animation if, for example, you had an expensive AJAX operation on a page and you didn&#x27;t want the users to despair. So the navigation animation could become a kind of a generic &quot;I am doing something&quot; animation instead - I leave it to your disgression.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="oh-and-a-final-ps">Oh, and a final PS<a aria-hidden="true" class="hash-link" href="#oh-and-a-final-ps" title="Direct link to heading">â€‹</a></h2><p>I had initially planned to use an old school animated GIF instead of a CSS animation. The thing that stopped me taking this course of action is that, to quote an <a href="http://stackoverflow.com/a/780617/761388" target="_blank" rel="noopener noreferrer">answer on Stack Overflow</a> &quot;<em>IE assumes that the clicking of a link heralds a new navigation where the current page contents will be replaced. As part of the process for perparing for that it halts the code that animates the GIFs.</em>&quot;. So I needed animation that stayed animated. And lo, there were CSS animations...</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="better-make-that-a-pps---catering-for-ie-9-and-earlier">Better make that a PPS - catering for IE 9 and earlier<a aria-hidden="true" class="hash-link" href="#better-make-that-a-pps---catering-for-ie-9-and-earlier" title="Direct link to heading">â€‹</a></h2><p>I spoke a touch too soon when I expounded on how CSS animations were going to get me out of a hole. Unfortunately, and to my lasting regret, they aren&#x27;t supported in IE 9. And yes, at least for now that is what the users have. To get round this I&#x27;ve delved a little bit further and discovered a frankly hacky way to make animated gifs stay animated after beforeunload has fired. It works by rendering an animated gif to the screen when beforeunload is fired. Why this works I couldn&#x27;t say - but if you&#x27;re interested to research more then take a look at <a href="http://stackoverflow.com/a/1904931/761388" target="_blank" rel="noopener noreferrer">this answer on Stack Overflow</a>. In my case I&#x27;ve found an animated gif on <a href="http://www.ajaxload.info/" target="_blank" rel="noopener noreferrer">AjaxLoad</a> which looks pretty similar to the CSS animation:</p><p><img src="https://4.bp.blogspot.com/-_9OgkLfflAg/UYEXn7dgByI/AAAAAAAAAb8/3Q33pAs6WeM/s320/navigationAnimation.gif" alt="null">This is now saved away as <code>navigationAnimation.gif</code> in the application. The JavaScript uses Modernizr to detect if CSS animations are in play. If they&#x27;re not then the animated gif is rendered to the screen in place of the CSS animation HTML. Ugly, but it seems to work well; I think this will work on IE 6 - 9. The CSS animations will work on IE 10+.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/tags/navigation-animation">navigation animation</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/tags/css-load">css load</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/tags/ux">UX</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/tags/css-animation">CSS animation</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/tags/modernizr">Modernizr</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about A navigation animation (for your users delectation)" href="/2013/04/26/a-navigation-animation-for-your-users"><b>Read More</b></a></div></footer></article></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Support me</div><ul class="footer__items"><li class="footer__item"><a href="https://www.buymeacoffee.com/qUBm0Wh" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"></a></li><li class="footer__item"><div style="display: flex; align-items: center;"><iframe src="https://github.com/sponsors/johnnyreilly/button" title="Sponsor johnnyreilly" height="35" width="116" style="border: 0;"></iframe><div>&nbsp;on GitHub</div></div></li></ul></div><div class="col footer__col"><div class="footer__title">Feeds</div><ul class="footer__items"><li class="footer__item"><a href="https://blog.johnnyreilly.com/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>RSS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://blog.johnnyreilly.com/atom.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Atom<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 John Reilly. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d9f6e547.js"></script>
<script src="/assets/js/main.ea3f11b8.js"></script>
</body>
</html>